-- ✅ Simple loadstring runner (works even on lower UNC executors)

-- Track what’s been run this session
shared.executedURLs = shared.executedURLs or {}
shared.failedURLs = {}

-- List of script URLs to run
local scripts = {
    'URL_GOES_HERE',
    'URL_GOES_HERE',
}

-- Fix () in URLs so they don’t break
local function encodeURL(url)
    return url:gsub("[(]", "%%28"):gsub("[)]", "%%29")
end

-- Run each loadstring once
for _, rawUrl in ipairs(scripts) do
    local url = encodeURL(rawUrl)

    if not shared.executedURLs[url] then
        local success, result = pcall(function()
            local src = game:HttpGet(url, true)
            local func = loadstring(src)
            return func()
        end)

        if success then
            shared.executedURLs[url] = true
            print("✅ Executed:", url)
        else
            table.insert(shared.failedURLs, url)
            warn("❌ Failed:", url, "Error:", result)
        end
    else
        print("⏭️ Skipped already executed:", url)
    end
end

-- Show failures after a short wait
task.delay(2, function()
    if #shared.failedURLs > 0 then
        warn("=== ❌ Failed URLs ===")
        for _, url in ipairs(shared.failedURLs) do
            warn(url)
        end
    else
        print("✅ All scripts executed successfully.")
    end
end)
